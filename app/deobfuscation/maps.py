# https://jrgraphix.net/r/Unicode/0400-04FF
cyrillic = {
    'AE' : "\u04d4",
    'IA' : "\u0468\u0469",
    'IE' : "\u0464\u0465",
    'Oy' : "\u0478",
    'ae' : "\u04d5",
    'bl' : "\u042b\u044b\u04f8\u04f9",
    'oy' : "\u0479",
    'a' : "\u0430\u04d1\u04d3",
    'b' : "\u0402\u0411\u042a\u042c\u044a\u044c\u0462\u0463\u048c\u048d",
    'c' : "\u0441\u0481\u04ab",
    'e' : "\u0435\u0450\u0451\u04bc\u04bd\u04be\u04bf\u04d7\u04d8\u04d9\u04da\u04db",
    'f' : "\u0492",
    'h' : "\u040b\u0452\u045b\u0494\u0495\u04a6\u04a7\u04ba\u04bb",
    'i' : "\u0456\u0457",
    'j' : "\u0458",
    'k' : "\u04c4",
    'n' : "\u041f\u043b\u043f",
    'o' : "\u043e\u0444\u0473\u047b\u04e7\u04e9\u04eb",
    'p' : "\u0440\u048f",
    'r' : "\u0403\u0413\u0433\u0453\u0490\u0491\u04f6\u04f7",
    's' : "\u0455",
    'u' : "\u0446\u045f\u04b5",
    'v' : "\u0475\u0477",
    'w' : "\u0448\u0449",
    'x' : "\u0436\u0445\u0497\u04b3\u04c2\u04dd",
    'y' : "\u0423\u0443\u045e\u04af\u04b1\u04ee\u04ef\u04f0\u04f1\u04f2\u04f3",
    'A' : "\u0410\u0414\u0434\u0466\u0467\u04d0\u04d2",
    'B' : "\u0412\u0432",
    'C' : "\u0421\u0480\u04aa",
    'E' : "\u0400\u0401\u0404\u0415\u0454\u04d6",
    'F' : "\u0493\u04fa\u04fb",
    'G' : "\u04a8\u04a9",
    'H' : "\u040a\u041d\u043d\u045a\u04a2\u04a3\u04a4\u04a5\u04c7\u04c8\u04c9\u04ca",
    'I' : "\u0406\u0407\u04c0\u04cf",
    'J' : "\u0408",
    'K' : "\u040c\u041a\u043a\u045c\u049a\u049b\u049c\u049d\u049e\u049f\u04a0\u04a1\u04c3",
    'M' : "\u041c\u043c\u04cd\u04ce",
    'N' : "\u040d\u0418\u0419\u0438\u0439\u045d\u048a\u048b\u04e2\u04e3\u04e4\u04e5",
    'O' : "\u041e\u0424\u0472\u047a\u04e6\u04e8\u04ea",
    'P' : "\u0420\u048e",
    'R' : "\u042f\u044f",
    'S' : "\u0405",
    'T' : "\u0422\u0442\u04ac\u04ad",
    'U' : "\u040f\u0426\u04b4",
    'V' : "\u0474\u0476",
    'W' : "\u0428\u0429\u0460\u0461\u0470\u0471\u047c\u047d\u047e\u047f",
    'X' : "\u0416\u0425\u0496\u04b2\u04c1\u04dc\u04fc\u04fd\u04fe\u04ff",
    'Y' : "\u040e\u04ae\u04b0"
}

# https://jrgraphix.net/r/Unicode/0500-052F
cyrillic_extended = {
    'AK' : "\u052a\u052b",
    'IX' : "\u0514",
    'RE' : "\u0518",
    'Re' : "\u0519",
    'ix' : "\u0515",
    'd'  : "\u0500\u0501\u0502\u0503",
    'h'  : "\u0526\u0527",
    'p'  : "\u0517",
    'q'  : "\u051b",
    'u'  : "\u050f",
    'w'  : "\u051d",
    'y'  : "\u052c\u052d",
    'E'  : "\u0510\u0511",
    'G'  : "\u050c\u050d",
    'H'  : "\u050a\u050b\u0522\u0523\u0528\u0529",
    'K'  : "\u051e\u051f",
    'P'  : "\u0516",
    'Q'  : "\u051a",
    'R'  : "\u0504\u0505",
    'U'  : "\u050e",
    'W'  : "\u051c"
}

# https://jrgraphix.net/r/Unicode/0370-03FF
greek = {
    'a' : "\u03ac\u03b1",
    'c' : "\u03c2\u03db",
    'f' : "\u03dd",
    'i' : "\u0390\u03af\u03b9\u03ca",
    'n' : "\u03a0\u03ae\u03b7\u03c0",
    'o' : "\u03b4\u03bf\u03c3\u03c6\u03cc\u03d5\u03d9",
    'p' : "\u03c1",
    'r' : "\u0393",
    't' : "\u03c4",
    'u' : "\u03b0\u03bc\u03c5\u03cb\u03cd",
    'v' : "\u03bd",
    'w' : "\u03c8\u03c9\u03ce\u03d6",
    'x' : "\u03c7\u03d7",
    'y' : "\u03b3",
    'A' : "\u0386\u0391\u0394\u039b\u03bb",
    'B' : "\u0392\u03b2\u03d0",
    'C' : "\u03da",
    'E' : "\u0387\u0395\u039e\u03a3\u03ad\u03b5\u03be",
    'F' : "\u03dc",
    'H' : "\u0388\u0397",
    'I' : "\u0389\u038a\u0399\u03aa",
    'J' : "\u037f",
    'K' : "\u039a\u03ba\u03cf",
    'M' : "\u039c",
    'N' : "\u0376\u0377\u039d",
    'O' : "\u038c\u038f\u0398\u039f\u03a6\u03a9\u03b8\u03d1\u03d8",
    'P' : "\u03a1",
    'T' : "\u0372\u0373\u03a4",
    'W' : "\u03a8",
    'X' : "\u03a7",
    'Y' : "\u038e\u03a5\u03ab\u03d2\u03d3\u03d4",
    'Z' : "\u0396",
}

# https://en.wikipedia.org/wiki/Coptic_(Unicode_block)?useskin=vector
coptic = {
    'A' : "\u2c86\u2c87\u2cda\u2cdb",
    'B' : "\u2c82\u2c83",
    'C' : "\u2ca4",
    'D' : "\u2cf2\u2cf3",
    'E' : "\u2c88\u2c89",
    'H' : "\u2c8e\u2c8f\u2cbe\u2cbf",
    'I' : "\u2c92\u2cd4",
    'K' : "\u2c94\u2ce4",
    'L' : "\u2cd0\u2cd1\u2cd6",
    'M' : "\u2c98\u2c99",
    'N' : "\u2c9a",
    'O' : "\u2c90\u2c9e",
    'P' : "\u2ca2\u2caa\u2cc0\u2cce\u2ce0\u2ce8",
    'T' : "\u2ca6",
    'U' : "\u2cd8",
    'W' : "\u2cb0\u2cc2",
    'X' : "\u2cac\u2ced",
    'Y' : "\u2ca8\u2cae",
    'Z' : "\u2c8c\u2cb8",

    'a'  : "\u2c80\u2c81",
    'c'  : "\u2ca5",
    'i'  : "\u2cd5",
    'k'  : "\u2c95",
    'l'  : "\u2c93\u2cd7",
    'n'  : "\u2c9b\u2ca0\u2ca1",
    'o'  : "\u2c91\u2c9f",
    'oc' : "\u2cea",
    'oo' : "\u2ceb\u2cec",
    'p'  : "\u2ca3\u2cab\u2cc1\u2ccf\u2ce1",
    'r'  : "\u2c84\u2c85",
    's'  : "\u2cfd",
    't'  : "\u2ca7",
    'u'  : "\u2cd9",
    'w'  : "\u2cb1\u2cc3",
    'x'  : "\u2cad\u2cee",
    'y'  : "\u2ca9\u2caf",
    'z'  : "\u2c8d\u2cb9",
}

# https://jrgraphix.net/r/Unicode/0370-03FF
coptic_extended = {
    'b' : "\u03e6\u03ec\u03ed",
    'c' : "\u03f2",
    'e' : "\u03f1",
    'j' : "\u03f3",
    'p' : "\u03f7\u03f8\u03fc",
    'q' : "\u03e4\u03e5",
    't' : "\u03ee\u03ef",
    'x' : "\u03eb\u03f0",

    'C' : "\u03f9\u03fe",
    'E' : "\u03f5",
    'M' : "\u03fa\u03fb",
    'O' : "\u03f4",
    'W' : "\u03e2\u03e3",
    'X' : "\u03ea",
}

# https://jrgraphix.net/r/Unicode/00A0-00FF - https://jrgraphix.net/r/Unicode/0180-024F
latin = {
    'a'  : "\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5\u0101\u0103\u0105",
    'ae' : "\u00e6",
    'c'  : "\u00e7\u0107\u0109\u010b\u010d",
    'd'  : "\u010f\u0111",
    'e'  : "\u00e8\u00e9\u00ea\u00eb\u0113\u0115\u0117\u0119\u011b",
    'g'  : "\u011d\u011f\u0121\u0123",
    'h'  : "\u0125\u0127",
    'i'  : "\u00ec\u00ed\u00ee\u00ef\u0129\u012b\u012d\u012f\u0131",
    'ij' : "\u0133",
    'j'  : "\u0135",
    'k'  : "\u0137",
    'l'  : "\u013a\u013c\u013e\u0140\u0142",
    'n'  : "\u00f1\u0144\u0146\u0148\u0149\u014b",
    'o'  : "\u00f0\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8\u014d\u014f\u0151",
    'oe' : "\u0153",
    'p'  : "\u00fe",
    'r'  : "\u0155\u0157\u0159\u017f",
    's'  : "\u015b\u015d\u015f\u0161",
    't'  : "\u0163\u0165\u0167",
    'u'  : "\u00f9\u00fa\u00fb\u00fc\u0169\u016b\u016d\u016f\u0171\u0173",
    'w'  : "\u0175",
    'x'  : "\u00d7",
    'y'  : "\u00fd\u00ff\u0177",
    'z'  : "\u017a\u017c\u017e",

    'A'  : "\u00c0\u00c1\u00c2\u00c3\u00c4\u00c5\u0100\u0102\u0104",
    'AE' : "\u00c6",
    'B'  : "\u00df",
    'C'  : "\u00c7\u0106\u0108\u010a\u010c",
    'D'  : "\u00d0\u010e\u0110",
    'E'  : "\u00c8\u00c9\u00ca\u00cb\u0112\u0114\u0116\u0118\u011a",
    'G'  : "\u011c\u011e\u0120\u0122",
    'H'  : "\u0124\u0126",
    'I'  : "\u00cc\u00cd\u00ce\u00cf\u0128\u012a\u012c\u012e\u0130",
    'IJ' : "\u0132",
    'J'  : "\u0134",
    'K'  : "\u0136\u0138",
    'L'  : "\u0139\u013b\u013d\u013f\u0141",
    'N'  : "\u00d1\u0143\u0145\u0147\u014a",
    'O'  : "\u00d2\u00d3\u00d4\u00d5\u00d6\u00d8\u014c\u014e\u0150",
    'OE' : "\u0152",
    'P'  : "\u00de",
    'R'  : "\u0154\u0156\u0158",
    'S'  : "\u015a\u015c\u015e\u0160",
    'T'  : "\u0162\u0164\u0166",
    'U'  : "\u00d9\u00da\u00db\u00dc\u0168\u016a\u016c\u016e\u0170\u0172",
    'W'  : "\u0174",
    'Y'  : "\u00dd\u0176\u0178",
    'Z'  : "\u0179\u017b\u017d",
}

# https://jrgraphix.net/r/Unicode/1E00-1EFF
latin_extended = {
    'a': "\u1e01\u1e9a\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7",
    'b': "\u1e03\u1e05\u1e07",
    'c': "\u1e09",
    'd': "\u1e0b\u1e0d\u1e0f\u1e11\u1e13",
    'e': "\u1e15\u1e17\u1e19\u1e1b\u1e1d\u1eb9\u1ebb\u1ebd\u1ebf\u1ec1\u1ec3\u1ec5\u1ec7",
    'f': "\u1e1f\u1e9c\u1e9d",
    'g': "\u1e21",
    'h': "\u1e23\u1e25\u1e27\u1e29\u1e2b\u1e96",
    'i': "\u1e2d\u1e2f\u1e9b\u1ec9\u1ecb",
    'k': "\u1e31\u1e33\u1e35",
    'l': "\u1e37\u1e39\u1e3b\u1e3d",
    'm': "\u1e3f\u1e41\u1e43",
    'n': "\u1e45\u1e47\u1e49\u1e4b",
    'o': "\u1e4d\u1e4f\u1e51\u1e53\u1e9f\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3",
    'p': "\u1e55\u1e57",
    'r': "\u1e59\u1e5b\u1e5d\u1e5f",
    's': "\u1e61\u1e63\u1e65\u1e67\u1e69",
    't': "\u1e6b\u1e6d\u1e6f\u1e71\u1e97",
    'u': "\u1e73\u1e75\u1e77\u1e79\u1e7b\u1ee5\u1ee7\u1ee9\u1eeb\u1eed\u1eef\u1ef1",
    'v': "\u1e7d\u1e7f",
    'w': "\u1e81\u1e83\u1e85\u1e87\u1e89",
    'x': "\u1e8b\u1e8d",
    'y': "\u1e8f\u1e99\u1ef3\u1ef5\u1ef7\u1ef9\u1eff",
    'z': "\u1e91\u1e93\u1e95",

    'A': "\u1e00\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6",
    'B': "\u1e02\u1e04\u1e06\u1e9e",
    'C': "\u1e08",
    'D': "\u1e0a\u1e0c\u1e0e\u1e10\u1e12",
    'E': "\u1e14\u1e16\u1e18\u1e1a\u1e1c\u1eb8\u1eba\u1ebc\u1ebe\u1ec0\u1ec2\u1ec4\u1ec6",
    'F': "\u1e1e",
    'G': "\u1e20",
    'H': "\u1e22\u1e24\u1e26\u1e28\u1e2a",
    'I': "\u1e2c\u1e2e\u1ec8\u1eca",
    'K': "\u1e30\u1e32\u1e34",
    'L': "\u1e36\u1e38\u1e3a\u1e3c\u1efa",
    'M': "\u1e3e\u1e40\u1e42",
    'N': "\u1e44\u1e46\u1e48\u1e4a",
    'O': "\u1e4c\u1e4e\u1e50\u1e52\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2",
    'P': "\u1e54\u1e56",
    'R': "\u1e58\u1e5a\u1e5c\u1e5e",
    'S': "\u1e60\u1e62\u1e64\u1e66\u1e68",
    'T': "\u1e6a\u1e6c\u1e6e\u1e70",
    'U': "\u1e72\u1e74\u1e76\u1e78\u1e7a\u1ee4\u1ee6\u1ee8\u1eea\u1eec\u1eee\u1ef0",
    'V': "\u1e7c\u1e7e",
    'W': "\u1e80\u1e82\u1e84\u1e86\u1e88\u1e98",
    'X': "\u1e8a\u1e8c",
    'Y': "\u1e8e\u1ef2\u1ef4\u1ef6\u1ef8\u1efe",
    'Z': "\u1390\u1e92\u1e94"
}

leet = {
    'a': '4',
    'b': '68',
    'e': '3',
    'g': '9',
    'i': '1|',
    'o': '0',
    's': '5',
    't': '7',
}

combined_characters = {
    **cyrillic, **cyrillic_extended, **greek, **coptic, **coptic_extended,
    **latin, **latin_extended, **leet
}

def merge_character_maps(*maps):
    merged_map = {}
    for map_ in maps:
        for key, value in map_.items():
            if key in merged_map:
                # Ensure all values are unique
                merged_map[key] = ''.join(set(merged_map[key] + value))
            else:
                merged_map[key] = value
    return merged_map

merged_characters = merge_character_maps(
    cyrillic, cyrillic_extended, greek, coptic, coptic_extended,
    latin, latin_extended, leet
)

def invert_map(obfs_map):
    inverted_map = {}
    for ascii_char, unicode_chars in obfs_map.items():
        for unicode_char in unicode_chars:
            inverted_map[unicode_char] = ascii_char
    return inverted_map

inverted_merged_characters = invert_map(merged_characters)

hypocorisms = {
    "john": ["johnny", "johnnie", "jony"]
}

reverse_hypocorisms = {}
for name, shorts in hypocorisms.items():
    for short in shorts:
        reverse_hypocorisms.setdefault(short, []).append(name)